@import "tailwindcss";

/* Global smooth transitions */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* MUI color scheme helpers */
html[data-mui-color-scheme="dark"] {
  color-scheme: dark;
}

html[data-mui-color-scheme="light"] {
  color-scheme: light;
}

/* Leaflet container size */
.leaflet-container {
  width: 100%;
  height: 100%;
}

/* Smooth theme transitions for MUI elements */
.MuiPaper-root,
.MuiButton-root,
.MuiIconButton-root,
.MuiCard-root {
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

/* ðŸŒ“ Dark mode body text (base only, not everything!) */
html[data-mui-color-scheme="dark"] body {
  color: rgb(229, 231, 235);
}

/* Optional helper class */
html[data-mui-color-scheme="dark"] .text-neutral-dark {
  color: rgb(229, 231, 235);
}

/* Input styling only, no global overrides */
html[data-mui-color-scheme="dark"] .MuiTextField-root .MuiOutlinedInput-root,
html[data-mui-color-scheme="dark"] .MuiSelect-root {
  color: rgb(229, 231, 235);
}

/* Responsive adjustments */
@media (max-width: 1024px) {
  body {
    font-size: 14px;
  }
}

/* ================================================================== */
/* ðŸ§­ SIDEBAR FIX                                                     */
/* ================================================================== */

/* DARK MODE â€” force sidebar text & icons to white */
html[data-mui-color-scheme="dark"] .app-sidebar a,
html[data-mui-color-scheme="dark"] .app-sidebar a *,
html[data-mui-color-scheme="dark"] .app-sidebar .MuiListItemIcon-root svg {
  color: #ffffff !important;
  fill: #ffffff !important;
  stroke: #ffffff !important;
}

/* Active link in DARK MODE = primary color */
html[data-mui-color-scheme="dark"] .app-sidebar a.active,
html[data-mui-color-scheme="dark"] .app-sidebar a.active * {
  color: var(--mui-palette-primary-main, #1976d2) !important;
  fill: var(--mui-palette-primary-main, #1976d2) !important;
  stroke: var(--mui-palette-primary-main, #1976d2) !important;
}

/* LIGHT MODE â€” no force, let MUI handle */
html[data-mui-color-scheme="light"] .app-sidebar a,
html[data-mui-color-scheme="light"] .app-sidebar a * {
  color: inherit !important;
  stroke: inherit !important;
  fill: inherit !important;
}

/* View transition helpers (modern browsers) */
::view-transition-old(root),
::view-transition-new(root) {
  /* prevent default MUI mixing; keep normal blending */
  animation: none;
  mix-blend-mode: normal;
  /* ensure the pseudo-element sits correctly */
  will-change: clip-path, opacity, transform;
}

/* fallback: if no view-transition support, nothing here is applied */

/* Optional: a little smoothing for color changes */
html[data-mui-color-scheme="dark"] {
  /* (optional) tweak transitionable properties when switching; be conservative */
  transition: background-color 200ms linear, color 200ms linear;
}
html[data-mui-color-scheme="light"] {
  transition: background-color 200ms linear, color 200ms linear;
}
